{
  "timestamp": "2025-08-01T04:09:43.125593",
  "total_tests": 9,
  "passed": 1,
  "failed": 8,
  "skipped": 0,
  "pass_rate": 11.11111111111111,
  "total_time": 72.73240280151367,
  "test_results": [
    {
      "test_name": "api_connectivity",
      "status": "failed",
      "execution_time": 7.677078247070312e-05,
      "error_message": "$%7Bprocess.env.REACT_APP_API_URL%20%7C%7C%20%22http://localhost:8000%22%7D/api/health",
      "details": null
    },
    {
      "test_name": "api_endpoint_GET__api_health",
      "status": "failed",
      "execution_time": 4.363059997558594e-05,
      "error_message": "$%7Bprocess.env.REACT_APP_API_URL%20%7C%7C%20%22http://localhost:8000%22%7D/api/health",
      "details": null
    },
    {
      "test_name": "api_endpoint_GET__api_v1_predictions",
      "status": "failed",
      "execution_time": 2.2411346435546875e-05,
      "error_message": "$%7Bprocess.env.REACT_APP_API_URL%20%7C%7C%20%22http://localhost:8000%22%7D/api/v1/predictions",
      "details": null
    },
    {
      "test_name": "api_endpoint_GET__api_v1_performance-stats",
      "status": "failed",
      "execution_time": 1.4066696166992188e-05,
      "error_message": "$%7Bprocess.env.REACT_APP_API_URL%20%7C%7C%20%22http://localhost:8000%22%7D/api/v1/performance-stats",
      "details": null
    },
    {
      "test_name": "api_endpoint_GET__docs",
      "status": "failed",
      "execution_time": 1.3113021850585938e-05,
      "error_message": "$%7Bprocess.env.REACT_APP_API_URL%20%7C%7C%20%22http://localhost:8000%22%7D/docs",
      "details": null
    },
    {
      "test_name": "unit_tests_pytest",
      "status": "failed",
      "execution_time": 71.71224761009216,
      "error_message": "",
      "details": {
        "return_code": 1,
        "stdout": "\u001b[1m============================= test session starts =============================\u001b[0m\nplatform win32 -- Python 3.13.5, pytest-8.4.1, pluggy-1.6.0 -- C:\\Python313\\python.exe\ncachedir: .pytest_cache\nrootdir: C:\\Users\\bcmad\\Downloads\\A1Betting7-13.2\\backend\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, asyncio-1.1.0, cov-6.2.1\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\n\u001b[1mcollecting ... \u001b[0mcollected 195 items\n\nservices/test_real_time_analysis_engine_business_rules.py::test_business_rules_filtering \u001b[32mPASSED\u001b[0m\u001b[32m [  0%]\u001b[0m\nservices/test_real_time_analysis_engine_rules_load.py::test_load_business_rules_missing_file \u001b[32mPASSED\u001b[0m\u001b[32m [  1%]\u001b[0m\nservices/test_real_time_analysis_engine_rules_load.py::test_load_business_rules_invalid_yaml \u001b[32mPASSED\u001b[0m\u001b[32m [  1%]\u001b[0m\nsimple_ollama_test.py::test_ollama_models \u001b[33mSKIPPED\u001b[0m (Ollama server not...)\u001b[32m [  2%]\u001b[0m\ntest/test_propollama_business_logic.py::test_pre_llm_business_logic_valid \u001b[32mPASSED\u001b[0m\u001b[32m [  2%]\u001b[0m\ntest/test_propollama_business_logic.py::test_pre_llm_business_logic_invalid_user \u001b[32mPASSED\u001b[0m\u001b[32m [  3%]\u001b[0m\ntest/test_propollama_business_logic.py::test_build_ensemble_prompt \u001b[32mPASSED\u001b[0m\u001b[32m [  3%]\u001b[0m\ntest/test_propollama_business_logic.py::test_post_llm_business_logic_parsing \u001b[32mPASSED\u001b[0m\u001b[32m [  4%]\u001b[0m\ntest/test_rules_audit_log.py::test_audit_log_append_and_schema \u001b[32mPASSED\u001b[0m\u001b[32m    [  4%]\u001b[0m\ntest/test_rules_audit_log.py::test_reload_business_rules_audits \u001b[32mPASSED\u001b[0m\u001b[32m   [  5%]\u001b[0m\ntest_api_endpoint.py::test_api_endpoint \u001b[32mPASSED\u001b[0m\u001b[32m                           [  5%]\u001b[0m\ntest_app.py::test_endpoint \u001b[31mFAILED\u001b[0m\u001b[31m                                        [  6%]\u001b[0m\ntest_auth_async.py::test_register_and_login \u001b[32mPASSED\u001b[0m\u001b[31m                       [  6%]\u001b[0m\ntest_auth_async.py::test_register_duplicate \u001b[32mPASSED\u001b[0m\u001b[31m                       [  7%]\u001b[0m\ntest_edge_cases.py::test_edge_cases \u001b[32mPASSED\u001b[0m\u001b[31m                               [  7%]\u001b[0m\ntest_enhanced_propollama.py::test_enhanced_propollama \u001b[32mPASSED\u001b[0m\u001b[31m             [  8%]\u001b[0m\ntest_ensemble_simple.py::test_ensemble_prediction_simulation[asyncio] \u001b[32mPASSED\u001b[0m\u001b[31m [  8%]\u001b[0m\ntest_ensemble_simple.py::test_optimal_lineup_generation[asyncio] \u001b[32mPASSED\u001b[0m\u001b[31m  [  9%]\u001b[0m\ntest_ensemble_simple.py::test_in_season_filtering[asyncio] \u001b[32mPASSED\u001b[0m\u001b[31m        [  9%]\u001b[0m\ntest_ensemble_simple.py::test_ensemble_prediction_simulation[trio] \u001b[32mPASSED\u001b[0m\u001b[31m [ 10%]\u001b[0m\ntest_ensemble_simple.py::test_optimal_lineup_generation[trio] \u001b[32mPASSED\u001b[0m\u001b[31m     [ 10%]\u001b[0m\ntest_ensemble_simple.py::test_in_season_filtering[trio] \u001b[32mPASSED\u001b[0m\u001b[31m           [ 11%]\u001b[0m\ntest_final_analysis.py::test_final_analysis[Valid single prop] \u001b[31mFAILED\u001b[0m\u001b[31m    [ 11%]\u001b[0m\ntest_final_analysis.py::test_final_analysis[Duplicate prop (should fail)] \u001b[31mFAILED\u001b[0m\u001b[31m [ 12%]\u001b[0m\ntest_final_analysis.py::test_final_analysis[Invalid stat type (should fail)] \u001b[31mFAILED\u001b[0m\u001b[31m [ 12%]\u001b[0m\ntest_final_analysis.py::test_final_analysis[Entry amount too low (should fail)] \u001b[31mFAILED\u001b[0m\u001b[31m [ 13%]\u001b[0m\ntest_final_analysis.py::test_final_analysis[Forbidden combo (should fail)] \u001b[31mFAILED\u001b[0m\u001b[31m [ 13%]\u001b[0m\ntest_final_analysis.py::test_final_analysis[Missing player (should fail)] \u001b[31mFAILED\u001b[0m\u001b[31m [ 14%]\u001b[0m\ntest_final_analysis.py::test_final_analysis[Valid multi-prop] \u001b[31mFAILED\u001b[0m\u001b[31m     [ 14%]\u001b[0m\ntest_main_endpoints.py::test_features_valid \u001b[32mPASSED\u001b[0m\u001b[31m                       [ 15%]\u001b[0m\ntest_main_endpoints.py::test_features_empty_stats \u001b[32mPASSED\u001b[0m\u001b[31m                 [ 15%]\u001b[0m\ntest_main_endpoints.py::test_features_invalid_payload \u001b[32mPASSED\u001b[0m\u001b[31m             [ 16%]\u001b[0m\ntest_main_endpoints.py::test_predict_valid \u001b[32mPASSED\u001b[0m\u001b[31m                        [ 16%]\u001b[0m\ntest_main_endpoints.py::test_predict_empty_stats \u001b[32mPASSED\u001b[0m\u001b[31m                  [ 17%]\u001b[0m\ntest_main_endpoints.py::test_predict_invalid_payload \u001b[32mPASSED\u001b[0m\u001b[31m              [ 17%]\u001b[0m\ntest_main_endpoints.py::test_features_large_numbers \u001b[32mPASSED\u001b[0m\u001b[31m               [ 18%]\u001b[0m\ntest_main_endpoints.py::test_predict_large_numbers \u001b[32mPASSED\u001b[0m\u001b[31m                [ 18%]\u001b[0m\ntest_main_endpoints.py::test_fallback_services_flag \u001b[32mPASSED\u001b[0m\u001b[31m               [ 19%]\u001b[0m\ntest_main_endpoints.py::test_health_status \u001b[32mPASSED\u001b[0m\u001b[31m                        [ 20%]\u001b[0m\ntest_main_endpoints.py::test_health_comprehensive \u001b[32mPASSED\u001b[0m\u001b[31m                 [ 20%]\u001b[0m\ntest_main_endpoints.py::test_health_database \u001b[32mPASSED\u001b[0m\u001b[31m                      [ 21%]\u001b[0m\ntest_main_endpoints.py::test_autonomous_status \u001b[32mPASSED\u001b[0m\u001b[31m                    [ 21%]\u001b[0m\ntest_main_endpoints.py::test_autonomous_health \u001b[32mPASSED\u001b[0m\u001b[31m                    [ 22%]\u001b[0m\ntest_main_endpoints.py::test_autonomous_metrics \u001b[32mPASSED\u001b[0m\u001b[31m                   [ 22%]\u001b[0m\ntest_main_endpoints.py::test_autonomous_heal \u001b[32mPASSED\u001b[0m\u001b[31m                      [ 23%]\u001b[0m\ntest_main_endpoints.py::test_autonomous_capabilities \u001b[32mPASSED\u001b[0m\u001b[31m              [ 23%]\u001b[0m\ntest_main_endpoints.py::test_process_time_header \u001b[32mPASSED\u001b[0m\u001b[31m                  [ 24%]\u001b[0m\ntest_match_model.py::test_match_title \u001b[32mPASSED\u001b[0m\u001b[31m                             [ 24%]\u001b[0m\ntest_match_model.py::test_total_score \u001b[32mPASSED\u001b[0m\u001b[31m                             [ 25%]\u001b[0m\ntest_match_model.py::test_get_featured \u001b[32mPASSED\u001b[0m\u001b[31m                            [ 25%]\u001b[0m\ntest_match_model.py::test_get_by_league \u001b[32mPASSED\u001b[0m\u001b[31m                           [ 26%]\u001b[0m\ntest_match_model.py::test_get_live \u001b[32mPASSED\u001b[0m\u001b[31m                                [ 26%]\u001b[0m\ntest_match_model.py::test_to_dict \u001b[32mPASSED\u001b[0m\u001b[31m                                 [ 27%]\u001b[0m\ntest_minimal_app.py::test_register_valid \u001b[32mPASSED\u001b[0m\u001b[31m                          [ 27%]\u001b[0m\ntest_minimal_app.py::test_register_short_password \u001b[32mPASSED\u001b[0m\u001b[31m                 [ 28%]\u001b[0m\ntest_minimal_app.py::test_register_weak_password \u001b[32mPASSED\u001b[0m\u001b[31m                  [ 28%]\u001b[0m\ntest_minimal_app.py::test_register_duplicate \u001b[32mPASSED\u001b[0m\u001b[31m                      [ 29%]\u001b[0m\ntest_minimal_app.py::test_login_valid \u001b[32mPASSED\u001b[0m\u001b[31m                             [ 29%]\u001b[0m\ntest_minimal_app.py::test_login_invalid_password \u001b[32mPASSED\u001b[0m\u001b[31m                  [ 30%]\u001b[0m\ntest_minimal_app.py::test_deposit_valid \u001b[32mPASSED\u001b[0m\u001b[31m                           [ 30%]\u001b[0m\ntest_minimal_app.py::test_deposit_negative \u001b[32mPASSED\u001b[0m\u001b[31m                        [ 31%]\u001b[0m\ntest_minimal_app.py::test_withdraw_valid \u001b[32mPASSED\u001b[0m\u001b[31m                          [ 31%]\u001b[0m\ntest_minimal_app.py::test_withdraw_zero \u001b[32mPASSED\u001b[0m\u001b[31m                           [ 32%]\u001b[0m\ntest_minimal_app.py::test_place_bet_valid \u001b[32mPASSED\u001b[0m\u001b[31m                         [ 32%]\u001b[0m\ntest_minimal_app.py::test_place_bet_invalid_stake \u001b[32mPASSED\u001b[0m\u001b[31m                 [ 33%]\u001b[0m\ntest_minimal_app.py::test_markets \u001b[32mPASSED\u001b[0m\u001b[31m                                 [ 33%]\u001b[0m\ntest_minimal_auth.py::test_register_endpoint_exists \u001b[32mPASSED\u001b[0m\u001b[31m               [ 34%]\u001b[0m\ntest_phase_2_complete.py::test_phase_2_complete \u001b[31mFAILED\u001b[0m\u001b[31m                   [ 34%]\u001b[0m\ntest_phase_3.py::test_phase_3 \u001b[31mFAILED\u001b[0m\u001b[31m                                     [ 35%]\u001b[0m\ntest_prizepicks_api.py::test_prizepicks_api \u001b[31mFAILED\u001b[0m\u001b[31m                       [ 35%]\u001b[0m\ntest_seasonal_filtering.py::test_seasonal_filtering \u001b[32mPASSED\u001b[0m\u001b[31m               [ 36%]\u001b[0m\ntest_test_app.py::test_root \u001b[32mPASSED\u001b[0m\u001b[31m                                       [ 36%]\u001b[0m\ntest_test_app.py::test_api_version \u001b[32mPASSED\u001b[0m\u001b[31m                                [ 37%]\u001b[0m\ntest_test_app.py::test_legacy_health \u001b[32mPASSED\u001b[0m\u001b[31m                              [ 37%]\u001b[0m\ntest_test_app.py::test_health \u001b[32mPASSED\u001b[0m\u001b[31m                                     [ 38%]\u001b[0m\ntest_test_app.py::test_version \u001b[32mPASSED\u001b[0m\u001b[31m                                    [ 38%]\u001b[0m\ntest_test_app.py::test_test_endpoint \u001b[32mPASSED\u001b[0m\u001b[31m                              [ 39%]\u001b[0m\ntest_test_app.py::test_unified_analysis_post \u001b[32mPASSED\u001b[0m\u001b[31m                      [ 40%]\u001b[0m\ntest_test_app.py::test_unified_analysis_get \u001b[32mPASSED\u001b[0m\u001b[31m                       [ 40%]\u001b[0m\ntest_time_windowed_rules.py::test_time_windowed_ev_rule \u001b[31mFAILED\u001b[0m\u001b[31m           [ 41%]\u001b[0m\ntest_time_windowed_rules.py::test_time_windowed_risk_rule \u001b[31mFAILED\u001b[0m\u001b[31m         [ 41%]\u001b[0m\ntest_time_windowed_rules.py::test_forbidden_combo_dynamic \u001b[31mFAILED\u001b[0m\u001b[31m         [ 42%]\u001b[0m\ntest_time_windowed_rules.py::test_outside_time_window \u001b[32mPASSED\u001b[0m\u001b[31m             [ 42%]\u001b[0m\ntest_time_windowed_rules.py::test_user_override_ev_rule \u001b[31mFAILED\u001b[0m\u001b[31m           [ 43%]\u001b[0m\ntest_time_windowed_rules.py::test_user_override_combo_rule \u001b[31mFAILED\u001b[0m\u001b[31m        [ 43%]\u001b[0m\ntest_time_windowed_rules.py::test_user_fallback_to_global \u001b[31mFAILED\u001b[0m\u001b[31m         [ 44%]\u001b[0m\ntest_time_windowed_rules.py::test_user_override_time_window_expired \u001b[32mPASSED\u001b[0m\u001b[31m [ 44%]\u001b[0m\ntest_unified_interface.py::test_propollama_unified \u001b[31mFAILED\u001b[0m\u001b[31m                [ 45%]\u001b[0m\ntest_unified_interface.py::test_api_endpoints \u001b[31mFAILED\u001b[0m\u001b[31m                     [ 45%]\u001b[0m\ntest_user_model.py::test_password_hashing_and_verification \u001b[32mPASSED\u001b[0m\u001b[31m        [ 46%]\u001b[0m\ntest_user_model.py::test_api_key_generation_and_verification \u001b[32mPASSED\u001b[0m\u001b[31m      [ 46%]\u001b[0m\ntest_user_model.py::test_jwt_access_and_refresh_token \u001b[32mPASSED\u001b[0m\u001b[31m             [ 47%]\u001b[0m\ntest_user_model.py::test_to_dict_serialization \u001b[32mPASSED\u001b[0m\u001b[31m                    [ 47%]\u001b[0m\ntest_user_model.py::test_edge_case_password_hash_corruption \u001b[32mPASSED\u001b[0m\u001b[31m       [ 48%]\u001b[0m\ntest_user_model.py::test_edge_case_api_key_hash_corruption \u001b[32mPASSED\u001b[0m\u001b[31m        [ 48%]\u001b[0m\ntests/test_api_key_auth.py::test_predict_requires_api_key \u001b[32mPASSED\u001b[0m\u001b[31m         [ 49%]\u001b[0m\ntests/test_api_key_auth.py::test_predict_invalid_api_key \u001b[32mPASSED\u001b[0m\u001b[31m          [ 49%]\u001b[0m\ntests/test_api_key_auth.py::test_predict_valid_api_key \u001b[32mPASSED\u001b[0m\u001b[31m            [ 50%]\u001b[0m\ntests/test_api_models.py::test_enriched_prop_edge_cases \u001b[32mPASSED\u001b[0m\u001b[31m           [ 50%]\u001b[0m\ntests/test_api_models.py::test_player_info \u001b[32mPASSED\u001b[0m\u001b[31m                        [ 51%]\u001b[0m\ntests/test_api_models.py::test_statistic_point \u001b[32mPASSED\u001b[0m\u001b[31m                    [ 51%]\u001b[0m\ntests/test_api_models.py::test_insight \u001b[32mPASSED\u001b[0m\u001b[31m                            [ 52%]\u001b[0m\ntests/test_api_models.py::test_enriched_prop \u001b[32mPASSED\u001b[0m\u001b[31m                      [ 52%]\u001b[0m\ntests/test_api_models.py::test_bet_analysis_response \u001b[32mPASSED\u001b[0m\u001b[31m              [ 53%]\u001b[0m\ntests/test_api_models_metadata.py::test_player_info_field_metadata \u001b[32mPASSED\u001b[0m\u001b[31m [ 53%]\u001b[0m\ntests/test_api_models_metadata.py::test_statistic_point_field_metadata \u001b[32mPASSED\u001b[0m\u001b[31m [ 54%]\u001b[0m\ntests/test_api_models_metadata.py::test_insight_field_metadata \u001b[32mPASSED\u001b[0m\u001b[31m    [ 54%]\u001b[0m\ntests/test_api_models_metadata.py::test_enriched_prop_field_metadata \u001b[32mPASSED\u001b[0m\u001b[31m [ 55%]\u001b[0m\ntests/test_api_models_metadata.py::test_bet_analysis_response_field_metadata \u001b[32mPASSED\u001b[0m\u001b[31m [ 55%]\u001b[0m\ntests/test_api_v1.py::test_root \u001b[32mPASSED\u001b[0m\u001b[31m                                   [ 56%]\u001b[0m\ntests/test_api_v1.py::test_health_check \u001b[32mPASSED\u001b[0m\u001b[31m                           [ 56%]\u001b[0m\ntests/test_api_v1.py::test_comprehensive_health_check \u001b[32mPASSED\u001b[0m\u001b[31m             [ 57%]\u001b[0m\ntests/test_api_v1.py::test_get_betting_opportunities \u001b[32mPASSED\u001b[0m\u001b[31m              [ 57%]\u001b[0m\ntests/test_api_v1.py::test_get_arbitrage_opportunities \u001b[32mPASSED\u001b[0m\u001b[31m            [ 58%]\u001b[0m\ntests/test_api_v1.py::test_get_predictions_shim \u001b[32mPASSED\u001b[0m\u001b[31m                   [ 58%]\u001b[0m\ntests/test_api_v1.py::test_get_prizepicks_props \u001b[32mPASSED\u001b[0m\u001b[31m                   [ 59%]\u001b[0m\ntests/test_api_v1.py::test_sr_games_success \u001b[32mPASSED\u001b[0m\u001b[31m                       [ 60%]\u001b[0m\ntests/test_api_v1.py::test_sr_games_missing_api_key \u001b[32mPASSED\u001b[0m\u001b[31m               [ 60%]\u001b[0m\ntests/test_api_v1.py::test_sr_games_malformed_response \u001b[32mPASSED\u001b[0m\u001b[31m            [ 61%]\u001b[0m\ntests/test_api_v1.py::test_sr_games_api_error \u001b[32mPASSED\u001b[0m\u001b[31m                     [ 61%]\u001b[0m\ntests/test_api_v1.py::test_sr_games_timeout_error \u001b[32mPASSED\u001b[0m\u001b[31m                 [ 62%]\u001b[0m\ntests/test_api_v1.py::test_sr_games_unexpected_nested_keys \u001b[32mPASSED\u001b[0m\u001b[31m        [ 62%]\u001b[0m\ntests/test_api_v1.py::test_odds_success \u001b[32mPASSED\u001b[0m\u001b[31m                           [ 63%]\u001b[0m\ntests/test_api_v1.py::test_odds_missing_api_key \u001b[32mPASSED\u001b[0m\u001b[31m                   [ 63%]\u001b[0m\ntests/test_api_v1.py::test_odds_malformed_response \u001b[32mPASSED\u001b[0m\u001b[31m                [ 64%]\u001b[0m\ntests/test_api_v1.py::test_odds_api_error \u001b[32mPASSED\u001b[0m\u001b[31m                         [ 64%]\u001b[0m\ntests/test_api_v1.py::test_odds_timeout_error \u001b[32mPASSED\u001b[0m\u001b[31m                     [ 65%]\u001b[0m\ntests/test_api_v1.py::test_odds_unexpected_nested_keys \u001b[32mPASSED\u001b[0m\u001b[31m            [ 65%]\u001b[0m\ntests/test_endpoints.py::test_features_endpoint \u001b[32mPASSED\u001b[0m\u001b[31m                   [ 66%]\u001b[0m\ntests/test_endpoints.py::test_predict_endpoint \u001b[32mPASSED\u001b[0m\u001b[31m                    [ 66%]\u001b[0m\ntests/test_endpoints.py::test_docs_endpoint \u001b[32mPASSED\u001b[0m\u001b[31m                       [ 67%]\u001b[0m\ntests/test_endpoints.py::test_invalid_input \u001b[32mPASSED\u001b[0m\u001b[31m                       [ 67%]\u001b[0m\ntests/test_endpoints.py::test_empty_stats \u001b[32mPASSED\u001b[0m\u001b[31m                         [ 68%]\u001b[0m\ntests/test_error_handling.py::test_invalid_route_returns_404 \u001b[32mPASSED\u001b[0m\u001b[31m      [ 68%]\u001b[0m\ntests/test_error_handling.py::test_error_response_helper \u001b[32mPASSED\u001b[0m\u001b[31m          [ 69%]\u001b[0m\ntests/test_health_endpoints.py::test_healthz \u001b[32mPASSED\u001b[0m\u001b[31m                      [ 69%]\u001b[0m\ntests/test_health_endpoints.py::test_api_health_status \u001b[32mPASSED\u001b[0m\u001b[31m            [ 70%]\u001b[0m\ntests/test_health_endpoints.py::test_api_health_comprehensive \u001b[32mPASSED\u001b[0m\u001b[31m     [ 70%]\u001b[0m\ntests/test_health_endpoints.py::test_api_health_database \u001b[32mPASSED\u001b[0m\u001b[31m          [ 71%]\u001b[0m\ntests/test_health_endpoints.py::test_api_health_data_sources \u001b[32mPASSED\u001b[0m\u001b[31m      [ 71%]\u001b[0m\ntests/test_meta_learning.py::test_maml_model_creation_returns_real_object \u001b[32mPASSED\u001b[0m\u001b[31m [ 72%]\u001b[0m\ntests/test_meta_learning.py::test_prototypical_network_creation_returns_real_object \u001b[32mPASSED\u001b[0m\u001b[31m [ 72%]\u001b[0m\ntests/test_meta_learning.py::test_relation_network_creation_returns_real_object \u001b[32mPASSED\u001b[0m\u001b[31m [ 73%]\u001b[0m\ntests/test_meta_learning.py::test_learning_to_learn_model_creation \u001b[32mPASSED\u001b[0m\u001b[31m [ 73%]\u001b[0m\ntests/test_meta_learning.py::test_maml_few_shot_learning_capability \u001b[32mPASSED\u001b[0m\u001b[31m [ 74%]\u001b[0m\ntests/test_meta_learning.py::test_prototypical_network_episodic_learning \u001b[32mPASSED\u001b[0m\u001b[31m [ 74%]\u001b[0m\ntests/test_meta_learning.py::test_relation_network_relation_learning \u001b[32mPASSED\u001b[0m\u001b[31m [ 75%]\u001b[0m\ntests/test_meta_learning.py::test_meta_learning_integration_with_quantum_nas \u001b[32mPASSED\u001b[0m\u001b[31m [ 75%]\u001b[0m\ntests/test_meta_learning.py::test_meta_learning_performance_requirements \u001b[32mPASSED\u001b[0m\u001b[31m [ 76%]\u001b[0m\ntests/test_meta_learning.py::test_meta_learning_error_handling \u001b[32mPASSED\u001b[0m\u001b[31m    [ 76%]\u001b[0m\ntests/test_meta_learning.py::test_meta_learning_framework_integration \u001b[32mPASSED\u001b[0m\u001b[31m [ 77%]\u001b[0m\ntests/test_meta_learning.py::test_meta_learning_continual_learning \u001b[32mPASSED\u001b[0m\u001b[31m [ 77%]\u001b[0m\ntests/test_meta_learning.py::test_meta_learning_model_diversity \u001b[32mPASSED\u001b[0m\u001b[31m   [ 78%]\u001b[0m\ntests/test_mlb_extras.py::test_get_action_shots \u001b[32mPASSED\u001b[0m\u001b[31m                   [ 78%]\u001b[0m\ntests/test_mlb_extras.py::test_get_country_flag \u001b[32mPASSED\u001b[0m\u001b[31m                   [ 79%]\u001b[0m\ntests/test_mlb_extras.py::test_get_odds_comparison \u001b[32mPASSED\u001b[0m\u001b[31m                [ 80%]\u001b[0m\ntests/test_nas_implementation.py::test_nas_optimal_model_creation_returns_real_object \u001b[32mPASSED\u001b[0m\u001b[31m [ 80%]\u001b[0m\ntests/test_nas_implementation.py::test_autokeras_integration_works \u001b[32mPASSED\u001b[0m\u001b[31m [ 81%]\u001b[0m\ntests/test_nas_implementation.py::test_architecture_search_functionality \u001b[32mPASSED\u001b[0m\u001b[31m [ 81%]\u001b[0m\ntests/test_nas_implementation.py::test_model_evaluation_and_selection \u001b[32mPASSED\u001b[0m\u001b[31m [ 82%]\u001b[0m\ntests/test_nas_implementation.py::test_integration_with_quantum_ensemble \u001b[32mPASSED\u001b[0m\u001b[31m [ 82%]\u001b[0m\ntests/test_nas_implementation.py::test_performance_requirements_architecture_search \u001b[32mPASSED\u001b[0m\u001b[31m [ 83%]\u001b[0m\ntests/test_nas_implementation.py::test_error_handling_edge_cases \u001b[32mPASSED\u001b[0m\u001b[31m  [ 83%]\u001b[0m\ntests/test_nas_implementation.py::test_nas_model_architecture_diversity \u001b[32mPASSED\u001b[0m\u001b[31m [ 84%]\u001b[0m\ntests/test_nas_implementation.py::test_nas_integration_with_existing_pipeline \u001b[32mPASSED\u001b[0m\u001b[31m [ 84%]\u001b[0m\ntests/test_prizepicks_endpoints.py::test_get_prizepicks_props \u001b[32mPASSED\u001b[0m\u001b[31m     [ 85%]\u001b[0m\ntests/test_prizepicks_endpoints.py::test_get_prizepicks_recommendations \u001b[32mPASSED\u001b[0m\u001b[31m [ 85%]\u001b[0m\ntests/test_prizepicks_endpoints.py::test_get_comprehensive_projections \u001b[32mPASSED\u001b[0m\u001b[31m [ 86%]\u001b[0m\ntests/test_prizepicks_endpoints.py::test_optimize_lineup_error \u001b[32mPASSED\u001b[0m\u001b[31m    [ 86%]\u001b[0m\ntests/test_prizepicks_endpoints.py::test_get_prizepicks_health \u001b[32mPASSED\u001b[0m\u001b[31m    [ 87%]\u001b[0m\ntests/test_propollama_api.py::test_health_endpoint \u001b[32mPASSED\u001b[0m\u001b[31m                [ 87%]\u001b[0m\ntests/test_propollama_api.py::test_chat_valid \u001b[32mPASSED\u001b[0m\u001b[31m                     [ 88%]\u001b[0m\ntests/test_propollama_api.py::test_chat_missing_message \u001b[32mPASSED\u001b[0m\u001b[31m           [ 88%]\u001b[0m\ntests/test_propollama_api.py::test_chat_invalid_json \u001b[32mPASSED\u001b[0m\u001b[31m              [ 89%]\u001b[0m\ntests/test_propollama_api.py::test_chat_internal_error \u001b[32mPASSED\u001b[0m\u001b[31m            [ 89%]\u001b[0m\ntests/test_quantum_ensemble.py::test_ensemble_creation_returns_real_model \u001b[32mPASSED\u001b[0m\u001b[31m [ 90%]\u001b[0m\ntests/test_quantum_ensemble.py::test_ensemble_has_required_methods \u001b[32mPASSED\u001b[0m\u001b[31m [ 90%]\u001b[0m\ntests/test_quantum_ensemble.py::test_quantum_feature_transformation \u001b[32mPASSED\u001b[0m\u001b[31m [ 91%]\u001b[0m\ntests/test_quantum_ensemble.py::test_ensemble_weight_calculation \u001b[32mPASSED\u001b[0m\u001b[31m  [ 91%]\u001b[0m\ntests/test_quantum_ensemble.py::test_error_handling_edge_cases \u001b[32mPASSED\u001b[0m\u001b[31m    [ 92%]\u001b[0m\ntests/test_quantum_ensemble.py::test_integration_with_betting_data \u001b[32mPASSED\u001b[0m\u001b[31m [ 92%]\u001b[0m\ntests/test_real_metrics.py::TestRealPerformanceMetrics::test_real_performance_metrics_creation_returns_real_object \u001b[32mPASSED\u001b[0m\u001b[31m [ 93%]\u001b[0m\ntests/test_real_metrics.py::TestRealPerformanceMetrics::test_calculate_model_consensus_returns_dynamic_value \u001b[32mPASSED\u001b[0m\u001b[31m [ 93%]\u001b[0m\ntests/test_real_metrics.py::TestRealPerformanceMetrics::test_calculate_processing_time_returns_real_measurements \u001b[32mPASSED\u001b[0m\u001b[31m [ 94%]\u001b[0m\ntests/test_real_metrics.py::TestRealPerformanceMetrics::test_calculate_accuracy_trend_from_real_data \u001b[32mPASSED\u001b[0m\u001b[31m [ 94%]\u001b[0m\ntests/test_real_metrics.py::TestRealPerformanceMetrics::test_get_system_health_metrics_returns_real_status \u001b[32mPASSED\u001b[0m\u001b[31m [ 95%]\u001b[0m\ntests/test_real_metrics.py::TestRealPerformanceMetrics::test_real_time_performance_tracking_integration \u001b[32mPASSED\u001b[0m\u001b[31m [ 95%]\u001b[0m\ntests/test_real_metrics.py::TestRealPerformanceMetrics::test_performance_calculation_speed_requirement \u001b[32mPASSED\u001b[0m\u001b[31m [ 96%]\u001b[0m\ntests/test_real_metrics.py::TestRealPerformanceMetrics::test_api_response_time_requirement \u001b[32mPASSED\u001b[0m\u001b[31m [ 96%]\u001b[0m\ntests/test_real_metrics.py::TestRealPerformanceMetrics::test_memory_efficiency_for_continuous_tracking \u001b[32mPASSED\u001b[0m\u001b[31m [ 97%]\u001b[0m\ntests/test_real_metrics.py::TestRealPerformanceMetrics::test_error_handling_for_edge_cases \u001b[32mPASSED\u001b[0m\u001b[31m [ 97%]\u001b[0m\ntests/test_real_metrics.py::TestDynamicMetricsAPI::test_performance_metrics_endpoint_uses_real_calculation \u001b[32mPASSED\u001b[0m\u001b[31m [ 98%]\u001b[0m\ntests/test_real_metrics.py::TestDynamicMetricsAPI::test_system_status_endpoint_uses_real_counts \u001b[32mPASSED\u001b[0m\u001b[31m [ 98%]\u001b[0m\ntests/test_real_metrics.py::TestDynamicMetricsAPI::test_real_time_updates_for_system_monitoring \u001b[32mPASSED\u001b[0m\u001b[31m [ 99%]\u001b[0m\ntests/test_security_endpoints.py::test_security_headers \u001b[32mPASSED\u001b[0m\u001b[31m           [100%]\u001b[0m\n\n================================== FAILURES ===================================\n\u001b[31m\u001b[1m________________________________ test_endpoint ________________________________\u001b[0m\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n\u001b[31m\u001b[1m___________________ test_final_analysis[Valid single prop] ____________________\u001b[0m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:101: in map_httpcore_exceptions\n    \u001b[0m\u001b[94myield\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:394: in handle_async_request\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._pool.handle_async_request(req)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:256: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[94mNone\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:236: in handle_async_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m connection.handle_async_request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:101: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:78: in handle_async_request\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._connect(request)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:124: in _connect\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._network_backend.connect_tcp(**kwargs)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\auto.py\u001b[0m:31: in connect_tcp\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._backend.connect_tcp(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\anyio.py\u001b[0m:113: in connect_tcp\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_exceptions(exc_map):\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_exceptions.py\u001b[0m:14: in map_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m to_exc(exc) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpcore.ConnectError: All connection attempts failed\u001b[0m\n\n\u001b[33mThe above exception was the direct cause of the following exception:\u001b[0m\n\u001b[1m\u001b[31mtest_final_analysis.py\u001b[0m:21: in test_final_analysis\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m client.post(\u001b[33m\"\u001b[39;49;00m\u001b[33m/api/propollama/final_analysis\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m, json=case[\u001b[33m\"\u001b[39;49;00m\u001b[33mpayload\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m])\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1859: in post\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1540: in request\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.send(request, auth=auth, follow_redirects=follow_redirects)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1629: in send\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_auth(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1657: in _send_handling_auth\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_redirects(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1694: in _send_handling_redirects\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_single_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1730: in _send_single_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m transport.handle_async_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:393: in handle_async_request\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_httpcore_exceptions():\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:118: in map_httpcore_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m mapped_exc(message) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpx.ConnectError: All connection attempts failed\u001b[0m\n\u001b[31m\u001b[1m______________ test_final_analysis[Duplicate prop (should fail)] ______________\u001b[0m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:101: in map_httpcore_exceptions\n    \u001b[0m\u001b[94myield\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:394: in handle_async_request\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._pool.handle_async_request(req)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:256: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[94mNone\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:236: in handle_async_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m connection.handle_async_request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:101: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:78: in handle_async_request\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._connect(request)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:124: in _connect\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._network_backend.connect_tcp(**kwargs)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\auto.py\u001b[0m:31: in connect_tcp\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._backend.connect_tcp(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\anyio.py\u001b[0m:113: in connect_tcp\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_exceptions(exc_map):\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_exceptions.py\u001b[0m:14: in map_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m to_exc(exc) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpcore.ConnectError: All connection attempts failed\u001b[0m\n\n\u001b[33mThe above exception was the direct cause of the following exception:\u001b[0m\n\u001b[1m\u001b[31mtest_final_analysis.py\u001b[0m:21: in test_final_analysis\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m client.post(\u001b[33m\"\u001b[39;49;00m\u001b[33m/api/propollama/final_analysis\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m, json=case[\u001b[33m\"\u001b[39;49;00m\u001b[33mpayload\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m])\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1859: in post\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1540: in request\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.send(request, auth=auth, follow_redirects=follow_redirects)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1629: in send\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_auth(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1657: in _send_handling_auth\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_redirects(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1694: in _send_handling_redirects\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_single_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1730: in _send_single_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m transport.handle_async_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:393: in handle_async_request\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_httpcore_exceptions():\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:118: in map_httpcore_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m mapped_exc(message) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpx.ConnectError: All connection attempts failed\u001b[0m\n\u001b[31m\u001b[1m____________ test_final_analysis[Invalid stat type (should fail)] _____________\u001b[0m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:101: in map_httpcore_exceptions\n    \u001b[0m\u001b[94myield\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:394: in handle_async_request\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._pool.handle_async_request(req)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:256: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[94mNone\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:236: in handle_async_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m connection.handle_async_request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:101: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:78: in handle_async_request\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._connect(request)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:124: in _connect\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._network_backend.connect_tcp(**kwargs)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\auto.py\u001b[0m:31: in connect_tcp\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._backend.connect_tcp(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\anyio.py\u001b[0m:113: in connect_tcp\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_exceptions(exc_map):\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_exceptions.py\u001b[0m:14: in map_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m to_exc(exc) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpcore.ConnectError: All connection attempts failed\u001b[0m\n\n\u001b[33mThe above exception was the direct cause of the following exception:\u001b[0m\n\u001b[1m\u001b[31mtest_final_analysis.py\u001b[0m:21: in test_final_analysis\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m client.post(\u001b[33m\"\u001b[39;49;00m\u001b[33m/api/propollama/final_analysis\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m, json=case[\u001b[33m\"\u001b[39;49;00m\u001b[33mpayload\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m])\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1859: in post\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1540: in request\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.send(request, auth=auth, follow_redirects=follow_redirects)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1629: in send\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_auth(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1657: in _send_handling_auth\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_redirects(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1694: in _send_handling_redirects\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_single_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1730: in _send_single_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m transport.handle_async_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:393: in handle_async_request\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_httpcore_exceptions():\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:118: in map_httpcore_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m mapped_exc(message) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpx.ConnectError: All connection attempts failed\u001b[0m\n\u001b[31m\u001b[1m___________ test_final_analysis[Entry amount too low (should fail)] ___________\u001b[0m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:101: in map_httpcore_exceptions\n    \u001b[0m\u001b[94myield\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:394: in handle_async_request\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._pool.handle_async_request(req)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:256: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[94mNone\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:236: in handle_async_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m connection.handle_async_request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:101: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:78: in handle_async_request\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._connect(request)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:124: in _connect\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._network_backend.connect_tcp(**kwargs)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\auto.py\u001b[0m:31: in connect_tcp\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._backend.connect_tcp(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\anyio.py\u001b[0m:113: in connect_tcp\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_exceptions(exc_map):\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_exceptions.py\u001b[0m:14: in map_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m to_exc(exc) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpcore.ConnectError: All connection attempts failed\u001b[0m\n\n\u001b[33mThe above exception was the direct cause of the following exception:\u001b[0m\n\u001b[1m\u001b[31mtest_final_analysis.py\u001b[0m:21: in test_final_analysis\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m client.post(\u001b[33m\"\u001b[39;49;00m\u001b[33m/api/propollama/final_analysis\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m, json=case[\u001b[33m\"\u001b[39;49;00m\u001b[33mpayload\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m])\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1859: in post\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1540: in request\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.send(request, auth=auth, follow_redirects=follow_redirects)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1629: in send\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_auth(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1657: in _send_handling_auth\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_redirects(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1694: in _send_handling_redirects\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_single_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1730: in _send_single_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m transport.handle_async_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:393: in handle_async_request\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_httpcore_exceptions():\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:118: in map_httpcore_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m mapped_exc(message) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpx.ConnectError: All connection attempts failed\u001b[0m\n\u001b[31m\u001b[1m_____________ test_final_analysis[Forbidden combo (should fail)] ______________\u001b[0m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:101: in map_httpcore_exceptions\n    \u001b[0m\u001b[94myield\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:394: in handle_async_request\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._pool.handle_async_request(req)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:256: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[94mNone\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:236: in handle_async_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m connection.handle_async_request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:101: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:78: in handle_async_request\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._connect(request)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:124: in _connect\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._network_backend.connect_tcp(**kwargs)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\auto.py\u001b[0m:31: in connect_tcp\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._backend.connect_tcp(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\anyio.py\u001b[0m:113: in connect_tcp\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_exceptions(exc_map):\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_exceptions.py\u001b[0m:14: in map_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m to_exc(exc) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpcore.ConnectError: All connection attempts failed\u001b[0m\n\n\u001b[33mThe above exception was the direct cause of the following exception:\u001b[0m\n\u001b[1m\u001b[31mtest_final_analysis.py\u001b[0m:21: in test_final_analysis\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m client.post(\u001b[33m\"\u001b[39;49;00m\u001b[33m/api/propollama/final_analysis\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m, json=case[\u001b[33m\"\u001b[39;49;00m\u001b[33mpayload\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m])\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1859: in post\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1540: in request\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.send(request, auth=auth, follow_redirects=follow_redirects)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1629: in send\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_auth(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1657: in _send_handling_auth\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_redirects(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1694: in _send_handling_redirects\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_single_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1730: in _send_single_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m transport.handle_async_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:393: in handle_async_request\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_httpcore_exceptions():\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:118: in map_httpcore_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m mapped_exc(message) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpx.ConnectError: All connection attempts failed\u001b[0m\n\u001b[31m\u001b[1m______________ test_final_analysis[Missing player (should fail)] ______________\u001b[0m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:101: in map_httpcore_exceptions\n    \u001b[0m\u001b[94myield\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:394: in handle_async_request\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._pool.handle_async_request(req)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:256: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[94mNone\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:236: in handle_async_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m connection.handle_async_request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:101: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:78: in handle_async_request\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._connect(request)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:124: in _connect\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._network_backend.connect_tcp(**kwargs)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\auto.py\u001b[0m:31: in connect_tcp\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._backend.connect_tcp(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\anyio.py\u001b[0m:113: in connect_tcp\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_exceptions(exc_map):\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_exceptions.py\u001b[0m:14: in map_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m to_exc(exc) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpcore.ConnectError: All connection attempts failed\u001b[0m\n\n\u001b[33mThe above exception was the direct cause of the following exception:\u001b[0m\n\u001b[1m\u001b[31mtest_final_analysis.py\u001b[0m:21: in test_final_analysis\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m client.post(\u001b[33m\"\u001b[39;49;00m\u001b[33m/api/propollama/final_analysis\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m, json=case[\u001b[33m\"\u001b[39;49;00m\u001b[33mpayload\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m])\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1859: in post\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1540: in request\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.send(request, auth=auth, follow_redirects=follow_redirects)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1629: in send\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_auth(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1657: in _send_handling_auth\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_redirects(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1694: in _send_handling_redirects\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_single_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1730: in _send_single_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m transport.handle_async_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:393: in handle_async_request\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_httpcore_exceptions():\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:118: in map_httpcore_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m mapped_exc(message) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpx.ConnectError: All connection attempts failed\u001b[0m\n\u001b[31m\u001b[1m____________________ test_final_analysis[Valid multi-prop] ____________________\u001b[0m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:101: in map_httpcore_exceptions\n    \u001b[0m\u001b[94myield\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:394: in handle_async_request\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._pool.handle_async_request(req)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:256: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[94mNone\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection_pool.py\u001b[0m:236: in handle_async_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m connection.handle_async_request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:101: in handle_async_request\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m exc\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:78: in handle_async_request\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._connect(request)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_async\\connection.py\u001b[0m:124: in _connect\n    \u001b[0mstream = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._network_backend.connect_tcp(**kwargs)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\auto.py\u001b[0m:31: in connect_tcp\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._backend.connect_tcp(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_backends\\anyio.py\u001b[0m:113: in connect_tcp\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_exceptions(exc_map):\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpcore\\_exceptions.py\u001b[0m:14: in map_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m to_exc(exc) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpcore.ConnectError: All connection attempts failed\u001b[0m\n\n\u001b[33mThe above exception was the direct cause of the following exception:\u001b[0m\n\u001b[1m\u001b[31mtest_final_analysis.py\u001b[0m:21: in test_final_analysis\n    \u001b[0mresp = \u001b[94mawait\u001b[39;49;00m client.post(\u001b[33m\"\u001b[39;49;00m\u001b[33m/api/propollama/final_analysis\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m, json=case[\u001b[33m\"\u001b[39;49;00m\u001b[33mpayload\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m])\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1859: in post\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.request(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1540: in request\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.send(request, auth=auth, follow_redirects=follow_redirects)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1629: in send\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_auth(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1657: in _send_handling_auth\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_handling_redirects(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1694: in _send_handling_redirects\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._send_single_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_client.py\u001b[0m:1730: in _send_single_request\n    \u001b[0mresponse = \u001b[94mawait\u001b[39;49;00m transport.handle_async_request(request)\u001b[90m\u001b[39;49;00m\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:393: in handle_async_request\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m map_httpcore_exceptions():\u001b[90m\u001b[39;49;00m\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mC:\\Python313\\Lib\\contextlib.py\u001b[0m:162: in __exit__\n    \u001b[0m\u001b[96mself\u001b[39;49;00m.gen.throw(value)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_transports\\default.py\u001b[0m:118: in map_httpcore_exceptions\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m mapped_exc(message) \u001b[94mfrom\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[04m\u001b[96mexc\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   httpx.ConnectError: All connection attempts failed\u001b[0m\n\u001b[31m\u001b[1m____________________________ test_phase_2_complete ____________________________\u001b[0m\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n\u001b[31m\u001b[1m________________________________ test_phase_3 _________________________________\u001b[0m\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n\u001b[31m\u001b[1m_____________________________ test_prizepicks_api _____________________________\u001b[0m\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n\u001b[31m\u001b[1m_________________________ test_time_windowed_ev_rule __________________________\u001b[0m\n\u001b[1m\u001b[31mtest_time_windowed_rules.py\u001b[0m:57: in test_time_windowed_ev_rule\n    \u001b[0m\u001b[94massert\u001b[39;49;00m \u001b[95mnot\u001b[39;49;00m allowed\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   assert not True\u001b[0m\n----------------------------- Captured log setup ------------------------------\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[31m\u001b[1m________________________ test_time_windowed_risk_rule _________________________\u001b[0m\n\u001b[1m\u001b[31mtest_time_windowed_rules.py\u001b[0m:66: in test_time_windowed_risk_rule\n    \u001b[0m\u001b[94massert\u001b[39;49;00m \u001b[95mnot\u001b[39;49;00m allowed\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   assert not True\u001b[0m\n----------------------------- Captured log setup ------------------------------\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[31m\u001b[1m________________________ test_forbidden_combo_dynamic _________________________\u001b[0m\n\u001b[1m\u001b[31mtest_time_windowed_rules.py\u001b[0m:76: in test_forbidden_combo_dynamic\n    \u001b[0m\u001b[94massert\u001b[39;49;00m \u001b[96many\u001b[39;49;00m(r[\u001b[33m\"\u001b[39;49;00m\u001b[33mid\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m] == \u001b[33m\"\u001b[39;49;00m\u001b[33mforbid-ufc-parlays\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m \u001b[94mfor\u001b[39;49;00m r \u001b[95min\u001b[39;49;00m active_rules)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   assert False\u001b[0m\n\u001b[1m\u001b[31mE    +  where False = any(<generator object test_forbidden_combo_dynamic.<locals>.<genexpr> at 0x00000262F071A810>)\u001b[0m\n----------------------------- Captured log setup ------------------------------\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[31m\u001b[1m_________________________ test_user_override_ev_rule __________________________\u001b[0m\n\u001b[1m\u001b[31mtest_time_windowed_rules.py\u001b[0m:97: in test_user_override_ev_rule\n    \u001b[0m\u001b[94massert\u001b[39;49;00m \u001b[95mnot\u001b[39;49;00m allowed\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   assert not True\u001b[0m\n----------------------------- Captured log setup ------------------------------\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[31m\u001b[1m________________________ test_user_override_combo_rule ________________________\u001b[0m\n\u001b[1m\u001b[31mtest_time_windowed_rules.py\u001b[0m:107: in test_user_override_combo_rule\n    \u001b[0m\u001b[94massert\u001b[39;49;00m \u001b[95mnot\u001b[39;49;00m allowed\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   assert not True\u001b[0m\n----------------------------- Captured log setup ------------------------------\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[31m\u001b[1m________________________ test_user_fallback_to_global _________________________\u001b[0m\n\u001b[1m\u001b[31mtest_time_windowed_rules.py\u001b[0m:116: in test_user_fallback_to_global\n    \u001b[0m\u001b[94massert\u001b[39;49;00m \u001b[95mnot\u001b[39;49;00m allowed\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   assert not True\u001b[0m\n----------------------------- Captured log setup ------------------------------\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[1m\u001b[31mERROR   \u001b[0m backend.services.real_time_analysis_engine:real_time_analysis_engine.py:340 Failed to load business rules: [Errno 2] No such file or directory: 'backend/config/business_rules.yaml'\n\u001b[31m\u001b[1m___________________________ test_propollama_unified ___________________________\u001b[0m\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n\u001b[31m\u001b[1m_____________________________ test_api_endpoints ______________________________\u001b[0m\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n\u001b[33m============================== warnings summary ===============================\u001b[0m\ntests/test_api_models_metadata.py::test_bet_analysis_response_field_metadata\n  C:\\Users\\bcmad\\Downloads\\A1Betting7-13.2\\backend\\tests\\test_api_models_metadata.py:139: PydanticDeprecatedSince211: Accessing the 'model_fields' attribute on the instance is deprecated. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\n    bar.model_fields[\"processing_time\"].description\n\ntests/test_api_models_metadata.py::test_bet_analysis_response_field_metadata\n  C:\\Users\\bcmad\\Downloads\\A1Betting7-13.2\\backend\\tests\\test_api_models_metadata.py:143: PydanticDeprecatedSince211: Accessing the 'model_fields' attribute on the instance is deprecated. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\n    bar.model_fields[\"cached\"].description\n\ntests/test_api_models_metadata.py::test_bet_analysis_response_field_metadata\n  C:\\Users\\bcmad\\Downloads\\A1Betting7-13.2\\backend\\tests\\test_api_models_metadata.py:147: PydanticDeprecatedSince211: Accessing the 'model_fields' attribute on the instance is deprecated. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\n    bar.model_fields[\"enriched_props\"].description\n\ntests/test_meta_learning.py: 1 warning\ntests/test_nas_implementation.py: 9 warnings\n  C:\\Users\\bcmad\\AppData\\Roaming\\Python\\Python313\\site-packages\\keras\\src\\layers\\core\\dense.py:92: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.\n    super().__init__(activity_regularizer=activity_regularizer, **kwargs)\n\ntests/test_propollama_api.py::test_chat_invalid_json\n  C:\\Users\\bcmad\\AppData\\Roaming\\Python\\Python313\\site-packages\\httpx\\_models.py:408: DeprecationWarning: Use 'content=<...>' to upload raw bytes/text content.\n    headers, stream = encode_request(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n\u001b[36m\u001b[1m=========================== short test summary info ===========================\u001b[0m\n\u001b[31mFAILED\u001b[0m test_app.py::\u001b[1mtest_endpoint\u001b[0m - Failed: async def functions are not natively supported.\n\u001b[31mFAILED\u001b[0m test_final_analysis.py::\u001b[1mtest_final_analysis[Valid single prop]\u001b[0m - httpx.ConnectError: All connection attempts failed\n\u001b[31mFAILED\u001b[0m test_final_analysis.py::\u001b[1mtest_final_analysis[Duplicate prop (should fail)]\u001b[0m - httpx.ConnectError: All connection attempts failed\n\u001b[31mFAILED\u001b[0m test_final_analysis.py::\u001b[1mtest_final_analysis[Invalid stat type (should fail)]\u001b[0m - httpx.ConnectError: All connection attempts failed\n\u001b[31mFAILED\u001b[0m test_final_analysis.py::\u001b[1mtest_final_analysis[Entry amount too low (should fail)]\u001b[0m - httpx.ConnectError: All connection attempts failed\n\u001b[31mFAILED\u001b[0m test_final_analysis.py::\u001b[1mtest_final_analysis[Forbidden combo (should fail)]\u001b[0m - httpx.ConnectError: All connection attempts failed\n\u001b[31mFAILED\u001b[0m test_final_analysis.py::\u001b[1mtest_final_analysis[Missing player (should fail)]\u001b[0m - httpx.ConnectError: All connection attempts failed\n\u001b[31mFAILED\u001b[0m test_final_analysis.py::\u001b[1mtest_final_analysis[Valid multi-prop]\u001b[0m - httpx.ConnectError: All connection attempts failed\n\u001b[31mFAILED\u001b[0m test_phase_2_complete.py::\u001b[1mtest_phase_2_complete\u001b[0m - Failed: async def functions are not natively supported.\n\u001b[31mFAILED\u001b[0m test_phase_3.py::\u001b[1mtest_phase_3\u001b[0m - Failed: async def functions are not natively supported.\n\u001b[31mFAILED\u001b[0m test_prizepicks_api.py::\u001b[1mtest_prizepicks_api\u001b[0m - Failed: async def functions are not natively supported.\n\u001b[31mFAILED\u001b[0m test_time_windowed_rules.py::\u001b[1mtest_time_windowed_ev_rule\u001b[0m - assert not True\n\u001b[31mFAILED\u001b[0m test_time_windowed_rules.py::\u001b[1mtest_time_windowed_risk_rule\u001b[0m - assert not True\n\u001b[31mFAILED\u001b[0m test_time_windowed_rules.py::\u001b[1mtest_forbidden_combo_dynamic\u001b[0m - assert False\n\u001b[31mFAILED\u001b[0m test_time_windowed_rules.py::\u001b[1mtest_user_override_ev_rule\u001b[0m - assert not True\n\u001b[31mFAILED\u001b[0m test_time_windowed_rules.py::\u001b[1mtest_user_override_combo_rule\u001b[0m - assert not True\n\u001b[31mFAILED\u001b[0m test_time_windowed_rules.py::\u001b[1mtest_user_fallback_to_global\u001b[0m - assert not True\n\u001b[31mFAILED\u001b[0m test_unified_interface.py::\u001b[1mtest_propollama_unified\u001b[0m - Failed: async def functions are not natively supported.\n\u001b[31mFAILED\u001b[0m test_unified_interface.py::\u001b[1mtest_api_endpoints\u001b[0m - Failed: async def functions are not natively supported.\n\u001b[31m====== \u001b[31m\u001b[1m19 failed\u001b[0m, \u001b[32m175 passed\u001b[0m, \u001b[33m1 skipped\u001b[0m, \u001b[33m14 warnings\u001b[0m\u001b[31m in 67.82s (0:01:07)\u001b[0m\u001b[31m ======\u001b[0m\n",
        "stderr": ""
      }
    },
    {
      "test_name": "performance_api_response_time",
      "status": "failed",
      "execution_time": 0.000141143798828125,
      "error_message": "No successful requests for performance testing",
      "details": null
    },
    {
      "test_name": "performance_prediction_endpoint_performance",
      "status": "failed",
      "execution_time": 3.719329833984375e-05,
      "error_message": "No successful requests for performance testing",
      "details": null
    },
    {
      "test_name": "system_resources",
      "status": "passed",
      "execution_time": 1.0186545848846436,
      "error_message": null,
      "details": {
        "cpu_percent": 3.3,
        "memory_percent": 69.4,
        "disk_percent": 78.6,
        "memory_available_gb": 4.812473297119141,
        "disk_free_gb": 199.6272430419922
      }
    }
  ],
  "recommendations": [
    "API connectivity issues detected - ensure backend service is running",
    "Performance issues detected - consider optimization or infrastructure scaling",
    "Unit test configuration issues - check pytest setup and dependencies",
    "High failure rate - review system configuration and dependencies",
    "Run tests regularly in CI/CD pipeline",
    "Monitor test performance trends over time",
    "Implement test data fixtures for consistency",
    "Add integration tests for critical user flows"
  ]
}